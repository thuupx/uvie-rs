#[inline(always)]
pub fn is_vowel_unicode(c: char) -> bool {
    matches!(
        c,
        'a' | 'e' | 'i' | 'o' | 'u' | 'y' | 'â' | 'ê' | 'ô' | 'ă' | 'ơ' | 'ư'
    )
}

pub fn map_vowel_with_tone(c: char, tone: u8) -> char {
    let base_id: Option<usize> = match c {
        'a' | 'á' | 'à' | 'ả' | 'ã' | 'ạ' => Some(0),
        'ă' | 'ắ' | 'ằ' | 'ẳ' | 'ẵ' | 'ặ' => Some(1),
        'â' | 'ấ' | 'ầ' | 'ẩ' | 'ẫ' | 'ậ' => Some(2),
        'e' | 'é' | 'è' | 'ẻ' | 'ẽ' | 'ẹ' => Some(3),
        'ê' | 'ế' | 'ề' | 'ể' | 'ễ' | 'ệ' => Some(4),
        'i' | 'í' | 'ì' | 'ỉ' | 'ĩ' | 'ị' => Some(5),
        'o' | 'ó' | 'ò' | 'ỏ' | 'õ' | 'ọ' => Some(6),
        'ô' | 'ố' | 'ồ' | 'ổ' | 'ỗ' | 'ộ' => Some(7),
        'ơ' | 'ớ' | 'ờ' | 'ở' | 'ỡ' | 'ợ' => Some(8),
        'u' | 'ú' | 'ù' | 'ủ' | 'ũ' | 'ụ' => Some(9),
        'ư' | 'ứ' | 'ừ' | 'ử' | 'ữ' | 'ự' => Some(10),
        'y' | 'ý' | 'ỳ' | 'ỷ' | 'ỹ' | 'ỵ' => Some(11),
        _ => None,
    };

    let Some(id) = base_id else {
        return c;
    };

    let t = if tone <= 5 { tone as usize } else { 0usize };
    TONE_VOWELS[id][t]
}

const TONE_VOWELS: [[char; 6]; 12] = [
    ['a', 'á', 'à', 'ả', 'ã', 'ạ'],
    ['ă', 'ắ', 'ằ', 'ẳ', 'ẵ', 'ặ'],
    ['â', 'ấ', 'ầ', 'ẩ', 'ẫ', 'ậ'],
    ['e', 'é', 'è', 'ẻ', 'ẽ', 'ẹ'],
    ['ê', 'ế', 'ề', 'ể', 'ễ', 'ệ'],
    ['i', 'í', 'ì', 'ỉ', 'ĩ', 'ị'],
    ['o', 'ó', 'ò', 'ỏ', 'õ', 'ọ'],
    ['ô', 'ố', 'ồ', 'ổ', 'ỗ', 'ộ'],
    ['ơ', 'ớ', 'ờ', 'ở', 'ỡ', 'ợ'],
    ['u', 'ú', 'ù', 'ủ', 'ũ', 'ụ'],
    ['ư', 'ứ', 'ừ', 'ử', 'ữ', 'ự'],
    ['y', 'ý', 'ỳ', 'ỷ', 'ỹ', 'ỵ'],
];
